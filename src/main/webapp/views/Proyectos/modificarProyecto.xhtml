<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

    <ui:composition template="/WEB-INF/templates/layout.xhtml">

        <ui:define name="title">
            title
        </ui:define>

        <ui:define name="content">
            <center>
                <p:panel style="width: 70%" header="Modificar Proyecto" >
                    <h:form id="formModProy">           
                        <!--<p:growl id="msgs" showDetail="true" />-->

                        <!--<h3 style="margin-top:0">Basic</h3>-->
                        <p:accordionPanel>
                            <p:tab title="Datos del proyecto">
                                <h:panelGrid columns="2" cellpadding="10">
                                    <p:column>
                                        <p:outputLabel  for="tipoProyecto" value="Tipo de proyecto"/>
                                    </p:column>
                                    <p:column>
                                        <p:inputText id="tipoProyecto" label="tipoProyecto" required="true" value="#"/>
                                    </p:column>
                                    <p:column>
                                        <p:outputLabel for="nombreProyecto" value="Nombre del proyecto"/>
                                    </p:column>
                                    <p:column>
                                        <p:inputText id="nombreProyecto" label="nombreProyecto" required="true" value="#"/>
                                    </p:column>
                                    <p:column>
                                        <p:outputLabel  for="vinculoConvenio" value="Vinculado a convenio"/>
                                    </p:column>
                                    <p:column>
                                        <p:selectOneMenu id="vinculoConvenio" value="#" style="width: 120px" required="true">
                                            <f:selectItem itemLabel="--Seleccione--" itemValue="" noSelectionOption="true"/>
                                        </p:selectOneMenu>
                                    </p:column>
                                    <p:column>
                                        <p:outputLabel for="objetivoProyecto" value="Objetivo del proyecto"/>
                                    </p:column>
                                    <p:column>
                                        <p:inputTextarea id="objetivoProyecto" label="objetivoProyecto" rows="5" cols="30" value="#"/>
                                    </p:column>
                                    <p:column>
                                        <p:outputLabel  for="areaConocimiento" value="Area de conocimientos"/>
                                    </p:column>
                                    <p:column>
                                        <p:selectCheckboxMenu id="areaConocimiento" value="#{proyectoMB.areaConocimientoSelected}"  panelStyle="width: 250px"  filter="true" filterMatchMode="startsWith" label="Areas" required="true">
                                            <f:selectItem itemLabel="--Seleccione--" itemValue="" noSelectionOption="true"/>
                                            <f:selectItems value="#{proyectoMB.listAreaConocimiento}" var="area" itemLabel="#{area.nombreArea}" itemValue="#{area.idAreaConocimiento}"/>
                                        </p:selectCheckboxMenu>
                                    </p:column>
                                    <p:column>
                                        <p:outputLabel for="lugarEjecucion" value="Lugar de ejecucion"/>
                                    </p:column>
                                    <p:column>
                                        <p:inputText id="lugarEjecucion" label="lugarEjecucion" required="true" value="#"/>
                                    </p:column>
                                    <p:column>
                                        <p:outputLabel value="Duracion"/>
                                    </p:column>
                                    <p:column>
                                         <p:outputLabel for="desdeDuracionProy" value="Desde&nbsp;"/>
                                            <p:calendar id="desdeDuracionProy" pattern="dd/MM/yyyy" showOn="button" style=" width: 100px" navigator="true" yearRange="c-50:c+10" />
                                            <p:outputLabel for="hastaDuracionProy" value="&nbsp;&nbsp;&nbsp;Hasta&nbsp;"/>
                                            <p:calendar id="hastaDuracionProy" pattern="dd/MM/yyyy" showOn="button" style=" width: 100px" navigator="true" yearRange="c-50:c+10" />
                                    </p:column>
                                    <p:column>
                                        <p:outputLabel for="montoProyecto" value="Monto"/>
                                    </p:column>
                                    <p:column>
                                        <p:inputText id="montoProyecto" label="montoProyecto" value="#"/>
                                    </p:column>
                                    <p:column>
                                        <p:outputLabel for="fechaGestion" value="Fecha de gestion"/>
                                    </p:column>
                                    <p:column>
                                        <p:calendar id="fechaGestion" pattern="dd/MM/yyyy" showOn="button" style="width: 100px" navigator="true" yearRange="c-50:c+10"/>
                                    </p:column>

                                </h:panelGrid>
                            </p:tab>
                            <p:tab title="Datos coordinador">
                                <h:panelGrid columns="2" cellpadding="10">  
                                    <p:column>
                                        <p:outputLabel for="nombCoord" value="Nombre"/>
                                    </p:column>
                                    <p:column>
                                        <p:selectOneMenu id="nombCoord" value="#{proyectoMB.personaCoordinador}" style="width: 120px" required="true" converter="#{personaConverter}">
                                            <f:selectItem itemLabel="--Seleccione--" itemValue="" noSelectionOption="true"/>
                                            <f:selectItems value="#{proyectoMB.listInterno}" var="coordinador" itemLabel="#{coordinador.nombrePersona} #{coordinador.apellidoPersona}" itemValue="#{coordinador}"/>
                                            <f:ajax listener="#{proyectoMB.onchangeCoordinador()}" execute="nombCoord" render="cargoCoord mailCoord telCoord faxCoord"/>
                                        </p:selectOneMenu>
                                    </p:column>
                                    <p:column>
                                        <p:outputLabel for="cargoCoord" value="Cargo"/>
                                    </p:column>
                                    <p:column>
                                        <p:inputText id="cargoCoord" label="cargoCoord" value="#{proyectoMB.personaCoordinador.cargoPersona}"/>
                                    </p:column>
                                    <p:column>
                                        <p:outputLabel for="factCoord" value="Facultad"/>
                                    </p:column>
                                    <p:column>
                                        <p:selectOneMenu id="factCoord" value="" style="width: 120px" required="true">
                                            <f:selectItem itemLabel="--Seleccione--" itemValue="" noSelectionOption="true"/>
                                            <f:selectItems value="#{proyectoMB.listFacultad}" var="facultad" itemLabel="#{facultad.nombreFacultad}" itemValue="#{facultad.idFacultad}"/>
                                        </p:selectOneMenu>
                                    </p:column>
                                    <p:column>
                                         <p:outputLabel for="mailCoord" value="Correo Electronico"/>
                                    </p:column>
                                    <p:column>
                                        <p:inputText id="mailCoord" label="mailCoord" value="#{proyectoMB.personaCoordinador.emailPersona}"/>
                                    </p:column>
                                    
                                    <p:column>
                                        <p:outputLabel for="telCoord" value="Telefono"/>
                                    </p:column>
                                    <p:column>
                                        <p:inputMask id="telCoord" label="telCoord" mask="(503)-9999-9999" required="true" value="#{proyectoMB.telFijoInterno.numeroTelefono}"/>
                                    </p:column>
                                    <p:column>
                                        <p:outputLabel for="faxCoord" value="Fax"/>
                                    </p:column>
                                    <p:column>
                                        <p:inputText id="faxCoord" label="faxCoord" value="#{proyectoMB.faxInterno.numeroTelefono}"/>
                                    </p:column>
                                </h:panelGrid>
                            </p:tab>
                            <p:tab title="Datos Asistente de Coordinador">
                                <h:panelGrid columns="2" cellpadding="10">
                                     <p:column>
                                        <p:outputLabel for="nombAsistente" value="Nombre"/>
                                    </p:column>
                                    <p:column>
                                        <p:selectOneMenu id="nombAsistente" value="#{proyectoMB.personaAsistente}" style="width: 120px" required="true" converter="#{personaConverter}">
                                            <f:selectItem itemLabel="--Seleccione--" itemValue="" noSelectionOption="true"/>
                                            <f:selectItems value="#{proyectoMB.listInterno}" var="interno" itemLabel="#{interno.nombrePersona} #{interno.apellidoPersona}" itemValue="#{interno}"/>
                                            <f:ajax listener="#{proyectoMB.onchangeAsistenteCoordinador()}" execute="nombAsistente" render="cargoAsistente factAsistente mailAsistente telAsistente faxAsistente"/>
                                        </p:selectOneMenu>
                                    </p:column>
                                    <p:column>
                                        <p:outputLabel for="cargoAsistente" value="Cargo"/>
                                    </p:column>
                                    <p:column>
                                        <p:inputText id="cargoAsistente" label="cargoAsistente" value="#{proyectoMB.personaAsistente.cargoPersona}"/>
                                    </p:column>
                                    <p:column>
                                        <p:outputLabel for="factAsistente" value="Facultad"/>
                                    </p:column>
                                    <p:column>
                                        <p:selectOneMenu id="factAsistente" value="#" style="width: 120px" required="true">
                                            <f:selectItem itemLabel="--Seleccione--" itemValue="" noSelectionOption="true"/>
                                            <f:selectItems value="#{proyectoMB.listFacultadItem}"/>
                                        </p:selectOneMenu>
                                    </p:column>
                                     <p:column>
                                         <p:outputLabel for="mailAsistente" value="Correo Electronico"/>
                                    </p:column>
                                    <p:column>
                                        <p:inputText id="mailAsistente" label="mailAsistente" value="#{proyectoMB.personaAsistente.emailPersona}"/>
                                    </p:column>
                                    <p:column>
                                        <p:outputLabel for="telAsistente" value="Telefono"/>
                                    </p:column>
                                    <p:column>
                                        <p:inputMask id="telAsistente" label="telAsistente" mask="(503)-9999-9999" required="true" value="#{proyectoMB.telFijoAsistente.numeroTelefono}"/>
                                    </p:column>
                                    <p:column>
                                        <p:outputLabel for="faxAsistente" value="Fax"/>
                                    </p:column>
                                    <p:column>
                                        <p:inputText id="faxAsistente" label="faxAsistente" value="#{proyectoMB.faxAsistente.numeroTelefono}"/>
                                    </p:column>
                                </h:panelGrid>
                            </p:tab>
                            <p:tab title="Datos referente externo">
                                <h:panelGrid columns="2" cellpadding="10">
                                    <p:column>
                                        <p:outputLabel for="nombreRefExt" value="Nombre"/>
                                    </p:column>
                                    <p:column>
                                        <p:inputText id="nombreRefExt" label="nombreRefExt" required="true" value="#"/>
                                    </p:column>
                                    <p:column>
                                        <p:outputLabel for="CargoRefExt" value="Cargo"/>
                                    </p:column>
                                    <p:column>
                                        <p:inputText id="CargoRefExt" label="CargoRefExt" value="#"/>
                                    </p:column>
                                    <p:column>
                                        <p:outputLabel for="entidadInst" value="Entidad o institucion"/>
                                    </p:column>
                                    <p:column>
                                        <p:selectOneMenu id="entidadInst" value="#"  style="width:120px" required="true">
                                            <f:selectItem itemLabel="--Seleccione--" itemValue="" noSelectionOption="true"/>
                                            <f:selectItems value="#{proyectoMB.listOrganismosItem}"/>
                                        </p:selectOneMenu>
                                    </p:column>
                                    <p:column>
                                        <p:outputLabel for="correoE" value="Correo Electronico"/>
                                    </p:column>
                                    <p:column>
                                        <p:inputText id="correoE" label="correoE" required="true" value="#"/>
                                    </p:column>
                                    <p:column>
                                        <p:outputLabel for="telefonoRefExt" value="Telefono"/>                                    
                                    </p:column>
                                    <p:column>
                                        <p:inputText id="telefonoRefExt" label="telefonoRefExt" required="true" value="#"/>
                                    </p:column>
                                    <p:column>
                                        <p:outputLabel for="faxRefExt" value="Fax"/>
                                    </p:column>
                                    <p:column>
                                        <p:inputText id="faxRefExt" label="faxRefExt" value="#"/>
                                    </p:column>

                                </h:panelGrid>
                            </p:tab>
                        </p:accordionPanel>
                    </h:form>
                </p:panel>
            </center>
        </ui:define>

    </ui:composition>


</html>
