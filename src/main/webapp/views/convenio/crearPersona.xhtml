<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition  template="/WEB-INF/templates/layout.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:pe="http://primefaces.org/ui/extensions" 
    >
                    
    <ui:define name="content">
            <h:form id="formNewPersona">
                <center> 
                <p:panel  style="width: 75%">  
                    
                               <h:panelGrid columns="2" >
                                   <p:column>  
                                     <p:outputLabel for="idNombrePersona" value="Nombre Persona" />
                                   </p:column>                                         
                                   <p:column>                                                                                                                                                                                             
                                       <p:inputText id="idNombrePersona"  required="true" label="Nombre" value="#{personaMB.persona.nombrePersona}"/>
                                       <p:watermark for="idNombrePersona" value="Nombre de la Persona" id="watermarkNombre" />
                                       <p:message for="idNombrePersona" />                                       
                                   </p:column>

                                   <p:column>  
                                     <p:outputLabel for="idApellido" value="Apellido Persona" />
                                   </p:column>                                         
                                  <p:column> 
                                      <p:inputText id="idApellido"  required="true" label="Apellido" value="#{personaMB.persona.apellidoPersona}"/>
                                       <p:watermark for="idApellido" value="Apellido de la Persona" id="watermarkApeliido" />
                                      <p:message for="idApellido" />
                                   </p:column>
                                   
                                    <p:column> 
                                         <p:outputLabel for="dui" value="DUI" />
                                    </p:column> 
                                    <p:column> 
                                        <p:inputMask id="dui" value="#{personaMB.persona.duiPersona}" mask="99999999-9"/>
                                         <p:watermark for="dui" value="99999999-9" id="watermarkDui" />
                                    </p:column> 
                                  
                                    <p:column> 
                                         <p:outputLabel for="nit" value="NIT" />
                                    </p:column> 
                                    <p:column> 
                                        <p:inputMask id="nit" value="#{personaMB.persona.nitPersona}" mask="9999-999999-999-9"/>
                                         <p:watermark for="nit" value="9999-999999-999-9" id="watermarkNit" />
                                    </p:column> 
                                   
                                    <p:column> 
                                         <p:outputLabel for="passaporte" value="Pasaporte" />
                                    </p:column> 
                                    <p:column> 
                                        <p:inputText id="passaporte"  required="true" label="pasaporte" value="#{personaMB.persona.pasaporte}"/>
                                         <p:watermark for="passaporte" value="pasaporte" id="watermarkPass" />
                                    </p:column> 
                                   
                                    <p:column>
                                     <p:outputLabel for="idCargo" value="Cargo" />
                                      </p:column>                                         
                                    <p:column> 
                                       <p:inputText id="idCargo"  required="true" label="cargo" value="#{personaMB.persona.cargoPersona}"/>
                                       <p:watermark for="idCargo" value="Cargo" id="watermarkCargo" />
                                       <p:message for="idCargo" />
                                   </p:column> 
                                   
                                    <p:column>  
                                     <p:outputLabel for="email" value="Correo Electr&oacute;nico" />
                                   </p:column>      
                                   <p:column> 
                                       <p:inputText id="email" required="true" value="#{propuestaConvenioMB.referenteExterno.emailPersona}">
                                           <f:validator validatorId="com.sisrni.validator.emailValidator" />
                                      </p:inputText>
                                       <p:watermark for="email" value="email@email.com" id="watermarkEmail" />
                                       <p:message for="email" display="tooltip" />                                         
                                    </p:column>    
                                   
                                   <p:column>  
                                     <p:outputLabel for="idUnidad" value="Unidad" />
                                      </p:column>                                         
                                    <p:column> 
                                        <p:inputText id="idUnidad"  required="true" label="unidad" value="#{personaMB.persona.idUnidad.nombre}"/>
                                       <p:message for="idUnidad" />
                                   </p:column>
                                   
                                   <p:column>  
                                     <p:outputLabel for="idTipoPersona" value="Tipo persona" />
                                      </p:column>                                         
                                    <p:column> 
                                        <p:selectManyButton id="idTipoPersona" value="#{personaMB.selectedTipoPersona}">
                                            <f:selectItem itemLabel="SOLICITANTE" itemValue="i" />
                                            <f:selectItem itemLabel="INTERNO" itemValue="b" />
                                            <f:selectItem itemLabel="EXTERNO" itemValue="u" />                                           
                                        </p:selectManyButton>
                                   </p:column>

                                     
                               </h:panelGrid>
                           
              
                </p:panel>   
                </center>    
            </h:form>  
        
        
          <script type="text/javascript">
            /**
             * Faces Validator
             */
            PrimeFaces.validator['custom.emailValidator'] = {

                pattern: /\S+@\S+/,

                validate: function(element, value) {
                    //use element.data() to access validation metadata, in this case there is none.
                    if(!this.pattern.test(value)) {
                        throw {
                            summary: 'Validation Error',
                            detail: value + ' is not a valid email.'
                        }
                    }
                }
            };    
        </script>
        
    </ui:define>
    
    
</ui:composition>
