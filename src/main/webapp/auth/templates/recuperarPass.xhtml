<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html 
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <ui:composition>

        <p:dialog id="RecuperarPassDlg" widgetVar="RecuperarPassDialog" modal="true" resizable="false" appendTo="@(body)"  header="Crear Usuario" >
                        
            <h:form id="RecuperarPassForm">

                <h:panelGroup id="display">
                 <p:panelGrid columns="2" columnClasses="column">
                           <center>
                              <p:outputLabel value=""  /> 
                            </center>
                        <p:row>
                        <p:column>                           
                             <p:outputLabel value="E-mail: " for="email" />
                        </p:column>
                          <p:column> 
                              <p:inputText id="email" required="true" value="#{usuarioMB.email}">
                                <f:validator validatorId="com.sisrni.validator.emailValidator" />
                            </p:inputText>
                            <p:watermark for="email" value="email@email.com" id="watermarkEmail" />
                            <p:message for="email" display="tooltip" />                                         
                        </p:column>     
                        </p:row> 
                         </p:panelGrid>
                    
                     <h:panelGrid >
          
                    </h:panelGrid>
                    <p:commandButton value="Recuperar Credenciales" id="idRecuperarPass" actionListener="#{usuarioMB.recuperarPass()}" process="@form" update="@form" icon="ui-icon-disk"/>
                    <p:commandButton value="Cancelar" id="idCerrar" process="@this" icon="ui-icon-cancel" immediate="true" onclick="PF('RecuperarPassDialog').close();" />
                </h:panelGroup>

            </h:form>

        </p:dialog>
        
          <script type="text/javascript">
            /**
             * Faces Validator
             */
            PrimeFaces.validator['custom.emailValidator'] = {
                pattern: /\S+@\S+/,
                validate: function (element, value) {
                    //use element.data() to access validation metadata, in this case there is none.
                    if (!this.pattern.test(value)) {
                        throw {
                            summary: 'Validation Error',
                            detail: value + ' is not a valid email.'
                        }
                    }
                }
            };
        </script>

    </ui:composition>

</html>
